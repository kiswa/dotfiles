#!/bin/bash

if [[ $# -eq 0 ]] ; then
    echo "Usage:"
    echo "  $0 site-name [framework]"
    echo "    Where [framework] defaults to Bootstrap,"
    echo "    but may also be Bourbon."
    exit 0
fi

if [[ $# -eq 1 ]] ; then
    echo "No framework specified, defaulting to Bootstrap."
    FRAMEWORK="Bootstrap"
else
    FRAMEWORK=$2
fi


mkdir $1 && cd $1 && mkdir -p src/scss && mkdir src/js && mkdir src/images

cp ~/bin/swFiles/.gitignore .
cp ~/bin/swFiles/bower.json .
cp ~/bin/swFiles/lint.yml .
cp ~/bin/swFiles/package.json .

echo "Bower Initialization"
bower init

echo ""
echo "Node Initialization"
npm init -y

echo ""
echo "Installing Bower Components..."
if [ "$FRAMEWORK" == "Bootstrap" ] ; then
    bower install bootstrap-sass-official fontawesome --save --quiet
    cp ~/bin/swFiles/bootstrap/gulpfile.js .
    cp ~/bin/swFiles/bootstrap/*.scss src/scss
fi
if [ "$FRAMEWORK" == "Bourbon" ] ; then
    bower install normalize.css bourbon neat fontawesome --save --quiet
    cp ~/bin/swFiles/bourbon/gulpfile.js .
    cp ~/bin/swFiles/bourbon/*.scss src/scss
fi

echo ""
echo "Installing Node Modules..."
npm install --silent --save-dev del gulp main-bower-files gulp-concat gulp-minify-css gulp-scss-lint gulp-ruby-sass gulp-jshint jshint-stylish gulp-uglify gulp-autoprefixer gulp-filter gulp-imagemin

echo ""
git init
